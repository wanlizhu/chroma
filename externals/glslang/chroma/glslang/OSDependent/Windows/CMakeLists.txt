SET(SOURCES 
    ${GLSLANG_DIR}/glslang/OSDependent/Windows/ossource.cpp 
    ${GLSLANG_DIR}/glslang/OSDependent/osinclude.h)

ADD_LIBRARY(OSDependent STATIC ${SOURCES})
SET_PROPERTY(TARGET OSDependent PROPERTY FOLDER Externals/glslang)
SET_PROPERTY(TARGET OSDependent PROPERTY POSITION_INDEPENDENT_CODE ON)

IF(${CMAKE_CXX_COMPILER_ID} MATCHES "GNU")
    TARGET_COMPILE_OPTIONS(OSDependent PRIVATE -fpermissive)
ENDIF()

IF(WIN32)
    SOURCE_GROUP("Source" FILES ${SOURCES})
ENDIF()